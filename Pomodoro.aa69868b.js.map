{"mappings":"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","sources":["src/js/main.js"],"sourcesContent":["class Pomodoro {\r\n  constructor(pomodoro, short, long) {\r\n    this.pomodoro = JSON.parse(localStorage.getItem('pomodoroValue')) ?? pomodoro * 60;\r\n    this.short = JSON.parse(localStorage.getItem('shortValue')) ?? short * 60;\r\n    this.long = JSON.parse(localStorage.getItem('longValue')) ?? long * 60;\r\n\r\n    this.seconds = 0;\r\n    this.interval = null;\r\n    this.typeTimer = 'pomodoro';\r\n    this.numIterations = 0;\r\n\r\n    this.timer = document.querySelector('.pomodoro__timer');\r\n    this.btnStart = document.querySelector('.functional__start');\r\n    this.btnReset = document.querySelector('.functional__reset');\r\n    this.form = document.querySelector('.form');\r\n    this.inputPomodoro = document.getElementById('pomodoro');\r\n    this.inputShort = document.getElementById('short');\r\n    this.inputLong = document.getElementById('long');\r\n    this.btnPomodoro = document.querySelector('.types-timers__pomodoro');\r\n    this.btnShort = document.querySelector('.types-timers__short');\r\n    this.btnLong = document.querySelector('.types-timers__long');\r\n    this.innerTypesTimers = document.querySelector('.pomodoro__types-timers');\r\n    this.notification = document.querySelector('.notification');\r\n    this.notificationText = document.querySelector('.notification__text');\r\n\r\n    this.btnsPomodoro = document.querySelectorAll('.pomodoro-btn');\r\n\r\n    this.modalSettings = document.querySelector('#modalSettings');\r\n\r\n    this.startListeners();\r\n    this.updateSeconds('pomodoro');\r\n  }\r\n\r\n  startListeners() {\r\n    this.btnStart.addEventListener('click', () => {\r\n      const isClassActive = this.btnStart.classList.contains('active');\r\n\r\n      if (isClassActive) {\r\n        this.btnStart.classList.remove('active');\r\n        this.stop();\r\n      } else {\r\n        this.btnStart.classList.add('active');\r\n        this.start();\r\n      }\r\n    });\r\n\r\n    this.btnReset.addEventListener('click', () => {\r\n      this.updateSeconds('pomodoro');\r\n      this.stop();\r\n      this.changeActiveButton(this.btnPomodoro);\r\n\r\n      this.btnStart.classList.remove('active');\r\n    });\r\n\r\n    this.modalSettings.addEventListener('click', (e) => {\r\n      const isTargetWrap = e.target.closest('.settings__wrap') === null;\r\n\r\n      if (isTargetWrap) {\r\n        this.closeModal();\r\n      }\r\n    });\r\n\r\n    this.form.addEventListener('submit', (e) => {\r\n      e.preventDefault();\r\n\r\n      const isInputsValue = this.inputPomodoro.value < 1 || this.inputShort.value < 1 || this.inputLong.value < 1;\r\n\r\n      try {\r\n        if (isInputsValue) {\r\n          throw new Error('Incorrect number');\r\n        }\r\n\r\n        this.saveParameters();\r\n        this.updateParameters();\r\n        this.updateSeconds('pomodoro');\r\n        this.changeActiveButton(this.btnPomodoro);\r\n        this.renderTimer();\r\n        this.stop();\r\n        this.closeModal();\r\n\r\n        this.btnStart.classList.remove('active');\r\n      } catch (err) {\r\n        this.showNotification(err);\r\n\r\n        this.closeModal();\r\n      }\r\n    });\r\n\r\n    this.innerTypesTimers.addEventListener('click', (e) => {\r\n      const isNoInnerTypesTimers = e.target !== this.innerTypesTimers;\r\n\r\n      switch (e.target) {\r\n        case this.btnPomodoro:\r\n          this.changeActiveButton(this.btnPomodoro, 'pomodoro', true);\r\n          break;\r\n        case this.btnShort:\r\n          this.changeActiveButton(this.btnShort, 'short', true);\r\n          break;\r\n        case this.btnLong:\r\n          this.changeActiveButton(this.btnLong, 'long', true);\r\n          break;\r\n      }\r\n\r\n      if (isNoInnerTypesTimers) {\r\n        this.stop();\r\n        this.btnStart.classList.remove('active');\r\n      }\r\n    });\r\n  }\r\n\r\n  start() {\r\n    this.interval = setInterval(() => {\r\n      if (this.seconds === 0) {\r\n        this.renderTimer();\r\n\r\n        this.switchTimer(this.typeTimer);\r\n      } else {\r\n        this.seconds = --this.seconds;\r\n\r\n        this.renderTimer();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  calculationTiming() {\r\n    const calculationMinutes = Math.floor(this.seconds / 60);\r\n    const calculationSeconds = this.seconds % 60 === 0 ? '00' : `${this.seconds % 60 < 10 ? `0${this.seconds % 60}` : this.seconds % 60}`;\r\n    const result = `${calculationMinutes}:${calculationSeconds}`;\r\n\r\n    return result;\r\n  }\r\n\r\n  renderTimer() {\r\n    this.timer.textContent = `${this.calculationTiming()}`;\r\n  }\r\n\r\n  switchTimer(type) {\r\n    switch (type) {\r\n      case 'pomodoro':\r\n        this.numIterations = ++this.numIterations;\r\n        this.seconds = this.short;\r\n        this.typeTimer = 'short';\r\n\r\n        if (this.numIterations === 4) {\r\n          this.seconds = this.long;\r\n          this.typeTimer = 'long';\r\n          this.numIterations = 0;\r\n        }\r\n\r\n        break;\r\n      case 'short':\r\n        this.seconds = this.pomodoro;\r\n        this.typeTimer = 'pomodoro';\r\n\r\n        break;\r\n      case 'long':\r\n        this.seconds = this.pomodoro;\r\n        this.typeTimer = 'pomodoro';\r\n\r\n        break;\r\n    }\r\n\r\n    switch (this.typeTimer) {\r\n      case 'pomodoro':\r\n        this.changeActiveButton(this.btnPomodoro);\r\n\r\n        break;\r\n      case 'short':\r\n        this.changeActiveButton(this.btnShort);\r\n\r\n        break;\r\n      case 'long':\r\n        this.changeActiveButton(this.btnLong);\r\n\r\n        break;\r\n    }\r\n  }\r\n\r\n  stop() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  updateSeconds(type) {\r\n    this.typeTimer = type;\r\n    this.numIterations = 0;\r\n    this.seconds = this[type];\r\n\r\n    this.renderTimer();\r\n  }\r\n\r\n  calculationSecondsParameters(type) {\r\n    const result = type > 60 ? 60 * 60 : type * 60;\r\n\r\n    return result;\r\n  }\r\n\r\n  updateParameters() {\r\n    this.pomodoro = this.calculationSecondsParameters(this.inputPomodoro.value);\r\n    this.short = this.calculationSecondsParameters(this.inputShort.value);\r\n    this.long = this.calculationSecondsParameters(this.inputLong.value);\r\n  }\r\n\r\n  saveParameters() {\r\n    localStorage.setItem('pomodoroValue', JSON.stringify(this.calculationSecondsParameters(this.inputPomodoro.value)));\r\n    localStorage.setItem('shortValue', JSON.stringify(this.calculationSecondsParameters(this.inputShort.value)));\r\n    localStorage.setItem('longValue', JSON.stringify(this.calculationSecondsParameters(this.inputLong.value)));\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalSettings.close();\r\n  }\r\n\r\n  showNotification(err) {\r\n    this.notificationText.textContent = `${err.name}: ${err.message}`;\r\n\r\n    this.notification.classList.remove('active');\r\n    this.notification.classList.add('active');\r\n\r\n    setTimeout(() => {\r\n      this.notification.classList.remove('active');\r\n    }, 3000);\r\n  }\r\n\r\n  removeClassActiveTimer() {\r\n    this.btnsPomodoro.forEach((el) => {\r\n      el.classList.remove('activeTimer');\r\n    });\r\n  }\r\n\r\n  changeActiveButton(btn, typeTimer = null, click = false) {\r\n    this.removeClassActiveTimer();\r\n\r\n    btn.classList.add('activeTimer');\r\n\r\n    if (click) {\r\n      this.updateSeconds(typeTimer);\r\n    }\r\n  }\r\n}\r\n\r\nnew Pomodoro(25, 5, 15);\r\n"],"names":[],"version":3,"file":"Pomodoro.aa69868b.js.map","sourceRoot":"/__parcel_source_root/"}